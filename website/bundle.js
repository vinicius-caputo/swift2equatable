(()=>{"use strict";var e={607:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.swift2equatable=void 0;const r=s(577),n=s(419);t.swift2equatable=function(e,t=!1,s=!1){const a=new r.Parser(e);return a.parseFile(),n.swift2equatableConverter.convert(a.structList,a.enumList,t,s)}},868:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.lexemes=void 0,t.lexemes={init:new RegExp(/init\((.*?)\) ?{.*?}/,"gs"),function:new RegExp(/func ([a-zA-Z][a-zA-Z0-9]*?)\(.*?\){.*?}/,"gs"),switch:new RegExp(/switch .*?{.*?}/,"gs"),struct:new RegExp(/(struct|class|extension) ([a-zA-Z][a-zA-Z0-9]*?):? .*?{/),variable:new RegExp(/(var|let) (.+?): (.+)/),identifier:new RegExp(/[a-zA-Z][a-zA-Z0-9]*/,"g"),endBracket:new RegExp(/}/),enum:new RegExp(/enum ([a-zA-Z][a-zA-Z0-9]*?):? .*?{/),enumCase:new RegExp(/case ([a-zA-Z][a-zA-Z0-9]*)(\((.*?)\))?/),arraySpecialCaracters:new RegExp(/(<|>|\[|\])/g)}},577:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Parser=void 0;const r=s(868),n=s(910);t.Parser=class{lines;sytaxTree;constructor(e){e=this.clearUnnecessaryStructures(e),this.lines=e.split("\n"),this.sytaxTree={structs:[],enums:[]}}clearUnnecessaryStructures(e){return(e=(e=e.replaceAll(r.lexemes.init,"")).replaceAll(r.lexemes.function,"")).replaceAll(r.lexemes.switch,"")}parseFile(){for(;this.lines.length>0;){let e=this.lines.shift()??"";const t=e.match(r.lexemes.struct),s=e.match(r.lexemes.enum);t?this.sytaxTree.structs.push(this.parseStruct(t[2])):s&&this.sytaxTree.enums.push(this.parseEnum(s[1]))}return this.sytaxTree}parseStruct(e){let t={fullName:e,property:[],subStructs:[],enums:[]};for(;this.lines.length>0;){let s=this.lines.shift()??"";const n=s.match(r.lexemes.struct),a=s.match(r.lexemes.enum),i=s.match(r.lexemes.variable),u=s.match(r.lexemes.endBracket);if(n)t.subStructs.push(this.parseStruct(e+"."+n[2]));else if(i)t.property=t.property.concat(this.parseProperty(i));else if(a)t.enums.push(this.parseEnum(e+"."+a[1]));else if(u)return t}return t}parseProperty(e){let t=[];const s=e[2].matchAll(r.lexemes.identifier),n=e[3];for(const e of s)t.push({name:e[0],type:n});return t}parseEnum(e){let t={name:e,cases:[]};for(;this.lines.length>0;){let e=this.lines.shift()??"";const s=e.match(r.lexemes.enumCase),n=e.match(r.lexemes.endBracket);if(s)t.cases.push(this.parseEnumCase(s));else if(n)return t}return t}parseEnumCase(e){return{name:e[1],parameters:e[3]?this.parseEnumCaseParameters(e[3]):[]}}parseEnumCaseParameters(e){return e.split(",").map(((e,t)=>{const s=e.trim().split(":");return{name:1===s.length?void 0:s[0],type:1===s.length?(0,n.addArraySuffixIfNeeded)(s[0])+t:s[1]}}))}get structList(){return this.getStructList(this.sytaxTree.structs)}get enumList(){return this.sytaxTree.enums.concat(this.getEnumInsideStructs(this.sytaxTree.structs))}getStructList(e){let t=[];for(const s of e)t.push(s),t=t.concat(this.getStructList(s.subStructs));return t}getEnumInsideStructs(e){let t=[];for(const s of e)t=t.concat(s.enums),t=t.concat(this.getEnumInsideStructs(s.subStructs));return t}}},419:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.swift2equatableConverter=void 0;const r=s(910);t.swift2equatableConverter=class{static equatableDeclartion="Equatable";static visibilityDeclaration="";static convert(e,t,s=!1,r=!1){this.defineEquatableAndVisibility(s,r);let n=[];for(const t of e)0!=t.property.length&&n.push(this.convertStruct(t));for(const e of t)0!=e.cases.length&&n.push(this.convertEnum(e));return n.join("\n\n")}static defineEquatableAndVisibility(e,t){e&&(this.visibilityDeclaration="public "),t&&(this.equatableDeclartion="@retroactive Equatable")}static convertStruct(e){let t=[];t.push(`extension ${e.fullName}: ${this.equatableDeclartion} {`),t.push(`\t${this.visibilityDeclaration}static func == (lhs: ${e.fullName}, rhs: ${e.fullName}) -> Bool {`);let s=[];for(const t of e.property)s.push(`lhs.${t.name} == rhs.${t.name}`);return s[0]=`\t\treturn ${s[0]}`,t.push(`${s.join("\n\t\t&& ")}`),t.push("\t}"),t.push("}"),t.join("\n")}static convertEnum(e){let t=[];t.push(`extension ${e.name}: ${this.equatableDeclartion} {`),t.push(`\t${this.visibilityDeclaration}static func == (lhs: ${e.name}, rhs: ${e.name}) -> Bool {`),t.push("\t\tswitch (lhs, rhs) {");let s=[];for(const t of e.cases)s.push(this.convertEnumCase(t));return t.push(`${s.join("\n")}`),t.push("\t\tdefault:"),t.push("\t\t\treturn false"),t.push("\t\t}"),t.push("\t}"),t.push("}"),t.join("\n")}static convertEnumCase(e){let t=[];if(0==e.parameters.length)return t.push(`\t\tcase (.${e.name}, .${e.name}):`),t.push("\t\t\treturn true"),t.join("\n");const s=this.convertEnumCaseParameterDefine(e.parameters,"lhs"),r=this.convertEnumCaseParameterDefine(e.parameters,"rhs");return t.push(`\t\tcase (.${e.name}(${s}), .${e.name}(${r})):`),t.push(`\t\t\treturn ${this.convertEnumCaseParameterCompare(e.parameters)}`),t.join("\n")}static convertEnumCaseParameterDefine(e,t){let s=[];for(const n of e)s.push(`let ${t}${(0,r.captalizeFirstLetter)(n.name??n.type)}`);return s.join(", ")}static convertEnumCaseParameterCompare(e){let t=[];for(const s of e){let e=(0,r.captalizeFirstLetter)(s.name??s.type);t.push(`lhs${e} == rhs${e}`)}return t.join(" && ")}}},910:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.addArraySuffixIfNeeded=t.captalizeFirstLetter=void 0;const r=s(868);t.captalizeFirstLetter=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},t.addArraySuffixIfNeeded=function(e){return e.match(r.lexemes.arraySpecialCaracters)?e.replaceAll(r.lexemes.arraySpecialCaracters,"")+"Array":e}}},t={};function s(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,s),a.exports}(()=>{const e=s(607),t=document.getElementById("input-Text"),r=document.getElementById("output-Text"),n=document.getElementById("includeComments"),a=document.getElementById("useCustomComparison");function i(){const s=t.value,i=(0,e.swift2equatable)(s,n.checked,a.checked);r.value=i}t.addEventListener("input",i),n.addEventListener("change",i),a.addEventListener("change",i)})()})();